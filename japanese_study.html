<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ì¼ë³¸ì–´ ê³µë¶€ í˜ì´ì§€</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        color: #333;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 20px;
      }

      .header {
        text-align: center;
        margin-bottom: 30px;
        color: white;
      }

      .header h1 {
        font-size: 2.5rem;
        margin-bottom: 10px;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
      }

      .header p {
        font-size: 1.2rem;
        opacity: 0.9;
      }

      .nav-tabs {
        display: flex;
        justify-content: center;
        margin-bottom: 30px;
        flex-wrap: wrap;
        gap: 10px;
      }

      .tab-button {
        background: rgba(255, 255, 255, 0.2);
        border: none;
        padding: 12px 24px;
        border-radius: 25px;
        color: white;
        cursor: pointer;
        font-size: 1rem;
        transition: all 0.3s ease;
        backdrop-filter: blur(10px);
      }

      .tab-button:hover {
        background: rgba(255, 255, 255, 0.3);
        transform: translateY(-2px);
      }

      .tab-button.active {
        background: white;
        color: #667eea;
        font-weight: bold;
      }

      .tab-content {
        display: none;
        background: white;
        border-radius: 20px;
        padding: 30px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        min-height: 500px;
      }

      .tab-content.active {
        display: block;
      }

      .hiragana-grid,
      .katakana-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(80px, 1fr));
        gap: 15px;
        margin: 20px 0;
      }

      .kana-card {
        background: #f8f9fa;
        border: 2px solid #e9ecef;
        border-radius: 10px;
        padding: 20px;
        text-align: center;
        cursor: pointer;
        transition: all 0.3s ease;
        position: relative;
      }

      .kana-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        border-color: #667eea;
      }

      .kana-card.selected {
        background: #667eea;
        color: white;
        border-color: #5a6fd8;
      }

      .kana {
        font-size: 2rem;
        font-weight: bold;
        margin-bottom: 5px;
      }

      .romaji {
        font-size: 0.9rem;
        color: #666;
      }

      .kana-card.selected .romaji {
        color: rgba(255, 255, 255, 0.8);
      }

      .quiz-container {
        text-align: center;
      }

      .quiz-question {
        font-size: 2rem;
        margin: 30px 0;
        padding: 20px;
        background: #f8f9fa;
        border-radius: 10px;
        border-left: 5px solid #667eea;
      }

      .quiz-options {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 15px;
        margin: 30px 0;
      }

      .quiz-option {
        background: #f8f9fa;
        border: 2px solid #e9ecef;
        border-radius: 10px;
        padding: 20px;
        cursor: pointer;
        transition: all 0.3s ease;
        font-size: 1.1rem;
      }

      .quiz-option:hover {
        background: #e9ecef;
        transform: translateY(-2px);
      }

      .quiz-option.selected {
        background: #667eea;
        color: white;
        border-color: #5a6fd8;
      }

      .quiz-option.correct {
        background: #28a745;
        color: white;
        border-color: #1e7e34;
      }

      .quiz-option.incorrect {
        background: #dc3545;
        color: white;
        border-color: #c82333;
      }

      .quiz-controls {
        margin: 30px 0;
      }

      .btn {
        background: #667eea;
        color: white;
        border: none;
        padding: 12px 24px;
        border-radius: 25px;
        cursor: pointer;
        font-size: 1rem;
        margin: 0 10px;
        transition: all 0.3s ease;
      }

      .btn:hover {
        background: #5a6fd8;
        transform: translateY(-2px);
      }

      .btn:disabled {
        background: #ccc;
        cursor: not-allowed;
        transform: none;
      }

      .score {
        font-size: 1.2rem;
        margin: 20px 0;
        padding: 15px;
        background: #e9ecef;
        border-radius: 10px;
      }

      .kanji-practice {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
        gap: 20px;
        margin: 20px 0;
      }

      .kanji-card {
        background: #f8f9fa;
        border: 2px solid #e9ecef;
        border-radius: 10px;
        padding: 20px;
        text-align: center;
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .kanji-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        border-color: #667eea;
      }

      .kanji {
        font-size: 3rem;
        margin-bottom: 10px;
      }

      .kanji-info {
        font-size: 0.9rem;
        color: #666;
      }

      .progress-bar {
        width: 100%;
        height: 10px;
        background: #e9ecef;
        border-radius: 5px;
        overflow: hidden;
        margin: 20px 0;
      }

      .progress-fill {
        height: 100%;
        background: linear-gradient(90deg, #667eea, #764ba2);
        transition: width 0.3s ease;
      }

      .stats {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 20px;
        margin: 30px 0;
      }

      .stat-card {
        background: #f8f9fa;
        padding: 20px;
        border-radius: 10px;
        text-align: center;
        border-left: 5px solid #667eea;
      }

      .stat-number {
        font-size: 2rem;
        font-weight: bold;
        color: #667eea;
      }

      .stat-label {
        color: #666;
        margin-top: 5px;
      }

      @media (max-width: 768px) {
        .container {
          padding: 10px;
        }

        .header h1 {
          font-size: 2rem;
        }

        .nav-tabs {
          flex-direction: column;
          align-items: center;
        }

        .tab-content {
          padding: 20px;
        }

        .hiragana-grid,
        .katakana-grid {
          grid-template-columns: repeat(auto-fit, minmax(60px, 1fr));
          gap: 10px;
        }

        .kana-card {
          padding: 15px;
        }

        .kana {
          font-size: 1.5rem;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="header">
        <h1>ğŸ‡¯ğŸ‡µ ì¼ë³¸ì–´ ê³µë¶€</h1>
        <p>íˆë¼ê°€ë‚˜, ê°€íƒ€ì¹´ë‚˜, í•œì, ë‹¨ì–´ë¥¼ ì¬ë¯¸ìˆê²Œ ë°°ì›Œë³´ì„¸ìš”!</p>
      </div>

      <div class="nav-tabs">
        <button class="tab-button active" onclick="showTab('hiragana')">
          íˆë¼ê°€ë‚˜
        </button>
        <button class="tab-button" onclick="showTab('katakana')">
          ê°€íƒ€ì¹´ë‚˜
        </button>
        <button class="tab-button" onclick="showTab('quiz')">ë‹¨ì–´ í€´ì¦ˆ</button>
        <button class="tab-button" onclick="showTab('kanji')">í•œì ì—°ìŠµ</button>
        <button class="tab-button" onclick="showTab('stats')">í•™ìŠµ í†µê³„</button>
      </div>

      <!-- íˆë¼ê°€ë‚˜ íƒ­ -->
      <div id="hiragana" class="tab-content active">
        <h2>íˆë¼ê°€ë‚˜ í•™ìŠµ</h2>
        <p>íˆë¼ê°€ë‚˜ë¥¼ í´ë¦­í•´ì„œ ë°œìŒì„ í™•ì¸í•´ë³´ì„¸ìš”!</p>
        <div class="hiragana-grid" id="hiraganaGrid"></div>
      </div>

      <!-- ê°€íƒ€ì¹´ë‚˜ íƒ­ -->
      <div id="katakana" class="tab-content">
        <h2>ê°€íƒ€ì¹´ë‚˜ í•™ìŠµ</h2>
        <p>ê°€íƒ€ì¹´ë‚˜ë¥¼ í´ë¦­í•´ì„œ ë°œìŒì„ í™•ì¸í•´ë³´ì„¸ìš”!</p>
        <div class="katakana-grid" id="katakanaGrid"></div>
      </div>

      <!-- í€´ì¦ˆ íƒ­ -->
      <div id="quiz" class="tab-content">
        <h2>ë‹¨ì–´ í€´ì¦ˆ</h2>
        <div class="quiz-container">
          <div class="quiz-question" id="quizQuestion">
            ë¬¸ì œë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...
          </div>
          <div class="quiz-options" id="quizOptions"></div>
          <div class="quiz-controls">
            <button class="btn" onclick="nextQuestion()" id="nextBtn" disabled>
              ë‹¤ìŒ ë¬¸ì œ
            </button>
            <button class="btn" onclick="checkAnswer()" id="checkBtn">
              ì •ë‹µ í™•ì¸
            </button>
          </div>
          <div class="score" id="score">ì ìˆ˜: 0/0</div>
          <div class="progress-bar">
            <div
              class="progress-fill"
              id="progressFill"
              style="width: 0%"
            ></div>
          </div>
        </div>
      </div>

      <!-- í•œì íƒ­ -->
      <div id="kanji" class="tab-content">
        <h2>í•œì ì—°ìŠµ</h2>
        <p>ê¸°ë³¸ í•œìë¥¼ í´ë¦­í•´ì„œ ì½ê¸°ì™€ ì˜ë¯¸ë¥¼ í™•ì¸í•´ë³´ì„¸ìš”!</p>
        <div class="kanji-practice" id="kanjiPractice"></div>
      </div>

      <!-- í†µê³„ íƒ­ -->
      <div id="stats" class="tab-content">
        <h2>í•™ìŠµ í†µê³„</h2>
        <div class="stats">
          <div class="stat-card">
            <div class="stat-number" id="totalQuestions">0</div>
            <div class="stat-label">ì´ ë¬¸ì œ ìˆ˜</div>
          </div>
          <div class="stat-card">
            <div class="stat-number" id="correctAnswers">0</div>
            <div class="stat-label">ì •ë‹µ ìˆ˜</div>
          </div>
          <div class="stat-card">
            <div class="stat-number" id="accuracy">0%</div>
            <div class="stat-label">ì •ë‹µë¥ </div>
          </div>
          <div class="stat-card">
            <div class="stat-number" id="studyTime">0ë¶„</div>
            <div class="stat-label">í•™ìŠµ ì‹œê°„</div>
          </div>
        </div>
      </div>
    </div>

    <script>
      // íˆë¼ê°€ë‚˜ ë°ì´í„°
      const hiraganaData = [
        { kana: "ã‚", romaji: "a" },
        { kana: "ã„", romaji: "i" },
        { kana: "ã†", romaji: "u" },
        { kana: "ãˆ", romaji: "e" },
        { kana: "ãŠ", romaji: "o" },
        { kana: "ã‹", romaji: "ka" },
        { kana: "ã", romaji: "ki" },
        { kana: "ã", romaji: "ku" },
        { kana: "ã‘", romaji: "ke" },
        { kana: "ã“", romaji: "ko" },
        { kana: "ã•", romaji: "sa" },
        { kana: "ã—", romaji: "shi" },
        { kana: "ã™", romaji: "su" },
        { kana: "ã›", romaji: "se" },
        { kana: "ã", romaji: "so" },
        { kana: "ãŸ", romaji: "ta" },
        { kana: "ã¡", romaji: "chi" },
        { kana: "ã¤", romaji: "tsu" },
        { kana: "ã¦", romaji: "te" },
        { kana: "ã¨", romaji: "to" },
        { kana: "ãª", romaji: "na" },
        { kana: "ã«", romaji: "ni" },
        { kana: "ã¬", romaji: "nu" },
        { kana: "ã­", romaji: "ne" },
        { kana: "ã®", romaji: "no" },
        { kana: "ã¯", romaji: "ha" },
        { kana: "ã²", romaji: "hi" },
        { kana: "ãµ", romaji: "fu" },
        { kana: "ã¸", romaji: "he" },
        { kana: "ã»", romaji: "ho" },
        { kana: "ã¾", romaji: "ma" },
        { kana: "ã¿", romaji: "mi" },
        { kana: "ã‚€", romaji: "mu" },
        { kana: "ã‚", romaji: "me" },
        { kana: "ã‚‚", romaji: "mo" },
        { kana: "ã‚„", romaji: "ya" },
        { kana: "ã‚†", romaji: "yu" },
        { kana: "ã‚ˆ", romaji: "yo" },
        { kana: "ã‚‰", romaji: "ra" },
        { kana: "ã‚Š", romaji: "ri" },
        { kana: "ã‚‹", romaji: "ru" },
        { kana: "ã‚Œ", romaji: "re" },
        { kana: "ã‚", romaji: "ro" },
        { kana: "ã‚", romaji: "wa" },
        { kana: "ã‚’", romaji: "wo" },
        { kana: "ã‚“", romaji: "n" },
      ];

      // ê°€íƒ€ì¹´ë‚˜ ë°ì´í„°
      const katakanaData = [
        { kana: "ã‚¢", romaji: "a" },
        { kana: "ã‚¤", romaji: "i" },
        { kana: "ã‚¦", romaji: "u" },
        { kana: "ã‚¨", romaji: "e" },
        { kana: "ã‚ª", romaji: "o" },
        { kana: "ã‚«", romaji: "ka" },
        { kana: "ã‚­", romaji: "ki" },
        { kana: "ã‚¯", romaji: "ku" },
        { kana: "ã‚±", romaji: "ke" },
        { kana: "ã‚³", romaji: "ko" },
        { kana: "ã‚µ", romaji: "sa" },
        { kana: "ã‚·", romaji: "shi" },
        { kana: "ã‚¹", romaji: "su" },
        { kana: "ã‚»", romaji: "se" },
        { kana: "ã‚½", romaji: "so" },
        { kana: "ã‚¿", romaji: "ta" },
        { kana: "ãƒ", romaji: "chi" },
        { kana: "ãƒ„", romaji: "tsu" },
        { kana: "ãƒ†", romaji: "te" },
        { kana: "ãƒˆ", romaji: "to" },
        { kana: "ãƒŠ", romaji: "na" },
        { kana: "ãƒ‹", romaji: "ni" },
        { kana: "ãƒŒ", romaji: "nu" },
        { kana: "ãƒ", romaji: "ne" },
        { kana: "ãƒ", romaji: "no" },
        { kana: "ãƒ", romaji: "ha" },
        { kana: "ãƒ’", romaji: "hi" },
        { kana: "ãƒ•", romaji: "fu" },
        { kana: "ãƒ˜", romaji: "he" },
        { kana: "ãƒ›", romaji: "ho" },
        { kana: "ãƒ", romaji: "ma" },
        { kana: "ãƒŸ", romaji: "mi" },
        { kana: "ãƒ ", romaji: "mu" },
        { kana: "ãƒ¡", romaji: "me" },
        { kana: "ãƒ¢", romaji: "mo" },
        { kana: "ãƒ¤", romaji: "ya" },
        { kana: "ãƒ¦", romaji: "yu" },
        { kana: "ãƒ¨", romaji: "yo" },
        { kana: "ãƒ©", romaji: "ra" },
        { kana: "ãƒª", romaji: "ri" },
        { kana: "ãƒ«", romaji: "ru" },
        { kana: "ãƒ¬", romaji: "re" },
        { kana: "ãƒ­", romaji: "ro" },
        { kana: "ãƒ¯", romaji: "wa" },
        { kana: "ãƒ²", romaji: "wo" },
        { kana: "ãƒ³", romaji: "n" },
      ];

      // í•œì ë°ì´í„°
      const kanjiData = [
        { kanji: "ä¸€", reading: "ã„ã¡", meaning: "í•˜ë‚˜" },
        { kanji: "äºŒ", reading: "ã«", meaning: "ë‘˜" },
        { kanji: "ä¸‰", reading: "ã•ã‚“", meaning: "ì…‹" },
        { kanji: "å››", reading: "ã‚ˆã‚“/ã—", meaning: "ë„·" },
        { kanji: "äº”", reading: "ã”", meaning: "ë‹¤ì„¯" },
        { kanji: "å…­", reading: "ã‚ã", meaning: "ì—¬ì„¯" },
        { kanji: "ä¸ƒ", reading: "ãªãª/ã—ã¡", meaning: "ì¼ê³±" },
        { kanji: "å…«", reading: "ã¯ã¡", meaning: "ì—¬ëŸ" },
        { kanji: "ä¹", reading: "ãã‚…ã†/ã", meaning: "ì•„í™‰" },
        { kanji: "å", reading: "ã˜ã‚…ã†", meaning: "ì—´" },
        { kanji: "äºº", reading: "ã²ã¨/ã˜ã‚“", meaning: "ì‚¬ëŒ" },
        { kanji: "å¤§", reading: "ãŠãŠ/ã ã„", meaning: "í¬ë‹¤" },
        { kanji: "å°", reading: "ã¡ã„/ã—ã‚‡ã†", meaning: "ì‘ë‹¤" },
        { kanji: "å±±", reading: "ã‚„ã¾", meaning: "ì‚°" },
        { kanji: "å·", reading: "ã‹ã‚", meaning: "ê°•" },
        { kanji: "æ—¥", reading: "ã²/ã«ã¡", meaning: "ë‚ /íƒœì–‘" },
        { kanji: "æœˆ", reading: "ã¤ã/ãŒã¤", meaning: "ë‹¬/ì›”" },
        { kanji: "ç«", reading: "ã²", meaning: "ë¶ˆ" },
        { kanji: "æ°´", reading: "ã¿ãš", meaning: "ë¬¼" },
        { kanji: "æœ¨", reading: "ã", meaning: "ë‚˜ë¬´" },
      ];

      // í€´ì¦ˆ ë°ì´í„°
      const quizData = [
        {
          question: "ã“ã‚“ã«ã¡ã¯",
          options: ["ì•ˆë…•í•˜ì„¸ìš”", "ê°ì‚¬í•©ë‹ˆë‹¤", "ì£„ì†¡í•©ë‹ˆë‹¤", "ì•ˆë…•íˆê°€ì„¸ìš”"],
          correct: 0,
        },
        {
          question: "ã‚ã‚ŠãŒã¨ã†",
          options: ["ì•ˆë…•í•˜ì„¸ìš”", "ê°ì‚¬í•©ë‹ˆë‹¤", "ì£„ì†¡í•©ë‹ˆë‹¤", "ì•ˆë…•íˆê°€ì„¸ìš”"],
          correct: 1,
        },
        {
          question: "ã™ã¿ã¾ã›ã‚“",
          options: ["ì•ˆë…•í•˜ì„¸ìš”", "ê°ì‚¬í•©ë‹ˆë‹¤", "ì£„ì†¡í•©ë‹ˆë‹¤", "ì•ˆë…•íˆê°€ì„¸ìš”"],
          correct: 2,
        },
        {
          question: "ã•ã‚ˆã†ãªã‚‰",
          options: ["ì•ˆë…•í•˜ì„¸ìš”", "ê°ì‚¬í•©ë‹ˆë‹¤", "ì£„ì†¡í•©ë‹ˆë‹¤", "ì•ˆë…•íˆê°€ì„¸ìš”"],
          correct: 3,
        },
        {
          question: "ãŠã¯ã‚ˆã†",
          options: ["ì¢‹ì€ ì•„ì¹¨", "ì•ˆë…•í•˜ì„¸ìš”", "ì•ˆë…•íˆê°€ì„¸ìš”", "ê°ì‚¬í•©ë‹ˆë‹¤"],
          correct: 0,
        },
        {
          question: "ã“ã‚“ã°ã‚“ã¯",
          options: ["ì¢‹ì€ ì•„ì¹¨", "ì•ˆë…•í•˜ì„¸ìš”", "ì¢‹ì€ ì €ë…", "ê°ì‚¬í•©ë‹ˆë‹¤"],
          correct: 2,
        },
        {
          question: "ã¯ã„",
          options: ["ì•„ë‹ˆìš”", "ë„¤", "ëª¨ë¥´ê² ì–´ìš”", "ì£„ì†¡í•´ìš”"],
          correct: 1,
        },
        {
          question: "ã„ã„ãˆ",
          options: ["ì•„ë‹ˆìš”", "ë„¤", "ëª¨ë¥´ê² ì–´ìš”", "ì£„ì†¡í•´ìš”"],
          correct: 0,
        },
        {
          question: "ã‚ãŸã—",
          options: ["ë‹¹ì‹ ", "ë‚˜", "ìš°ë¦¬", "ê·¸ë“¤"],
          correct: 1,
        },
        {
          question: "ã‚ãªãŸ",
          options: ["ë‹¹ì‹ ", "ë‚˜", "ìš°ë¦¬", "ê·¸ë“¤"],
          correct: 0,
        },
      ];

      // ì „ì—­ ë³€ìˆ˜
      let currentTab = "hiragana";
      let currentQuestion = 0;
      let selectedAnswer = -1;
      let correctAnswers = 0;
      let totalQuestions = 0;
      let startTime = Date.now();

      // íƒ­ ì „í™˜
      function showTab(tabName) {
        // ëª¨ë“  íƒ­ ìˆ¨ê¸°ê¸°
        document.querySelectorAll(".tab-content").forEach((tab) => {
          tab.classList.remove("active");
        });
        document.querySelectorAll(".tab-button").forEach((btn) => {
          btn.classList.remove("active");
        });

        // ì„ íƒëœ íƒ­ ë³´ì´ê¸°
        document.getElementById(tabName).classList.add("active");
        event.target.classList.add("active");
        currentTab = tabName;

        // íƒ­ë³„ ì´ˆê¸°í™”
        if (tabName === "quiz") {
          initQuiz();
        } else if (tabName === "stats") {
          updateStats();
        }
      }

      // íˆë¼ê°€ë‚˜ ê·¸ë¦¬ë“œ ìƒì„±
      function createHiraganaGrid() {
        const grid = document.getElementById("hiraganaGrid");
        hiraganaData.forEach((item) => {
          const card = document.createElement("div");
          card.className = "kana-card";
          card.innerHTML = `
                    <div class="kana">${item.kana}</div>
                    <div class="romaji">${item.romaji}</div>
                `;
          card.onclick = () => {
            // ì„ íƒ ìƒíƒœ í† ê¸€
            card.classList.toggle("selected");
            // ë°œìŒ ì¬ìƒ (ê°„ë‹¨í•œ ì•Œë¦¼ìœ¼ë¡œ ëŒ€ì²´)
            alert(`${item.kana}ëŠ” "${item.romaji}"ë¡œ ì½ìŠµë‹ˆë‹¤.`);
          };
          grid.appendChild(card);
        });
      }

      // ê°€íƒ€ì¹´ë‚˜ ê·¸ë¦¬ë“œ ìƒì„±
      function createKatakanaGrid() {
        const grid = document.getElementById("katakanaGrid");
        katakanaData.forEach((item) => {
          const card = document.createElement("div");
          card.className = "kana-card";
          card.innerHTML = `
                    <div class="kana">${item.kana}</div>
                    <div class="romaji">${item.romaji}</div>
                `;
          card.onclick = () => {
            card.classList.toggle("selected");
            alert(`${item.kana}ëŠ” "${item.romaji}"ë¡œ ì½ìŠµë‹ˆë‹¤.`);
          };
          grid.appendChild(card);
        });
      }

      // í•œì ì—°ìŠµ ìƒì„±
      function createKanjiPractice() {
        const container = document.getElementById("kanjiPractice");
        kanjiData.forEach((item) => {
          const card = document.createElement("div");
          card.className = "kanji-card";
          card.innerHTML = `
                    <div class="kanji">${item.kanji}</div>
                    <div class="kanji-info">
                        <div>ì½ê¸°: ${item.reading}</div>
                        <div>ì˜ë¯¸: ${item.meaning}</div>
                    </div>
                `;
          card.onclick = () => {
            alert(
              `í•œì: ${item.kanji}\nì½ê¸°: ${item.reading}\nì˜ë¯¸: ${item.meaning}`
            );
          };
          container.appendChild(card);
        });
      }

      // í€´ì¦ˆ ì´ˆê¸°í™”
      function initQuiz() {
        currentQuestion = 0;
        correctAnswers = 0;
        totalQuestions = quizData.length;
        selectedAnswer = -1;
        showQuestion();
      }

      // ë¬¸ì œ í‘œì‹œ
      function showQuestion() {
        const question = quizData[currentQuestion];
        document.getElementById("quizQuestion").textContent = question.question;

        const optionsContainer = document.getElementById("quizOptions");
        optionsContainer.innerHTML = "";

        question.options.forEach((option, index) => {
          const optionElement = document.createElement("div");
          optionElement.className = "quiz-option";
          optionElement.textContent = option;
          optionElement.onclick = () => selectAnswer(index);
          optionsContainer.appendChild(optionElement);
        });

        document.getElementById("nextBtn").disabled = true;
        document.getElementById("checkBtn").disabled = false;
        updateScore();
        updateProgress();
      }

      // ë‹µ ì„ íƒ
      function selectAnswer(index) {
        selectedAnswer = index;
        document.querySelectorAll(".quiz-option").forEach((option, i) => {
          option.classList.remove("selected");
          if (i === index) {
            option.classList.add("selected");
          }
        });
        document.getElementById("checkBtn").disabled = false;
      }

      // ì •ë‹µ í™•ì¸
      function checkAnswer() {
        if (selectedAnswer === -1) return;

        const question = quizData[currentQuestion];
        const options = document.querySelectorAll(".quiz-option");

        options.forEach((option, index) => {
          option.classList.remove("correct", "incorrect");
          if (index === question.correct) {
            option.classList.add("correct");
          } else if (index === selectedAnswer && index !== question.correct) {
            option.classList.add("incorrect");
          }
        });

        if (selectedAnswer === question.correct) {
          correctAnswers++;
        }

        document.getElementById("checkBtn").disabled = true;
        document.getElementById("nextBtn").disabled = false;
        updateScore();
      }

      // ë‹¤ìŒ ë¬¸ì œ
      function nextQuestion() {
        currentQuestion++;
        if (currentQuestion >= quizData.length) {
          alert(
            `í€´ì¦ˆ ì™„ë£Œ! ì´ ${totalQuestions}ë¬¸ì œ ì¤‘ ${correctAnswers}ë¬¸ì œë¥¼ ë§ì·„ìŠµë‹ˆë‹¤. (ì •ë‹µë¥ : ${Math.round(
              (correctAnswers / totalQuestions) * 100
            )}%)`
          );
          initQuiz();
        } else {
          showQuestion();
        }
      }

      // ì ìˆ˜ ì—…ë°ì´íŠ¸
      function updateScore() {
        document.getElementById(
          "score"
        ).textContent = `ì ìˆ˜: ${correctAnswers}/${totalQuestions}`;
      }

      // ì§„í–‰ë¥  ì—…ë°ì´íŠ¸
      function updateProgress() {
        const progress = ((currentQuestion + 1) / totalQuestions) * 100;
        document.getElementById("progressFill").style.width = progress + "%";
      }

      // í†µê³„ ì—…ë°ì´íŠ¸
      function updateStats() {
        const studyTime = Math.floor((Date.now() - startTime) / 60000);
        const accuracy =
          totalQuestions > 0
            ? Math.round((correctAnswers / totalQuestions) * 100)
            : 0;

        document.getElementById("totalQuestions").textContent = totalQuestions;
        document.getElementById("correctAnswers").textContent = correctAnswers;
        document.getElementById("accuracy").textContent = accuracy + "%";
        document.getElementById("studyTime").textContent = studyTime + "ë¶„";
      }

      // í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸°í™”
      window.onload = function () {
        createHiraganaGrid();
        createKatakanaGrid();
        createKanjiPractice();
        initQuiz();
      };
    </script>
  </body>
</html>
